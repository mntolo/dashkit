<!doctype html public 'What are you looking at? (ง •̀_•́)ง'>
<html lang=en>
	<head>
		<meta charset='utf-8'/>
		<meta name='viewport' content='width=device-width, initial-scale=1'/>
		<title>Autosize</title>
		<link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans:400,600&amp;subset=latin'/>
		<link rel='stylesheet' href='/app.css'/>
	</head>
	<body>
		<div class='Root'><header class='Header'><div class='Header_body'><a href='/' class='Header_pic'></a><a rel='author' href='/' class='Header_me'>Jack Moore</a><nav><a href='http://github.com/jackmoore' title='Github Profile' rel='me'><span class='Header_ribbon Header_icon'><span aria-hidden='true' class='Icon'><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 896q0 251-146.5 451.5t-378.5 277.5q-27 5-39.5-7t-12.5-30v-211q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-86-13.5q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 89t.5 54q0 18-13 30t-40 7q-232-77-378.5-277.5t-146.5-451.5q0-209 103-385.5t279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"></path></svg></span></span></a><a href='http://twitter.com/jacklmoore' title='Twitter Profile' rel='me'><span class='Header_ribbon Header_icon'><span aria-hidden='true' class='Icon'><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path></svg></span></span></a><a href='/notes'><span class='Header_ribbon'>Archive</span></a></nav></div></header><div class='Main'><main role='main' class='Main_body'><div class='Page'><h1 style='[object Object]'>Autosize</h1><div class='SubHeading'>A small, stand-alone script to automatically adjust textarea height.</div><hr/><div><p><a href="http://github.com/jackmoore/autosize" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></p>
<h2>Demo</h2>
<p><textarea id='autosize-example' placeholder='Try typing something...'></textarea></p>
<script src='/js/autosize.min.js'></script>
<script>
  autosize(document.getElementById('autosize-example'));
</script>
<hr>
<p>Released under the <a href='http://www.opensource.org/licenses/mit-license.php'>MIT License</a>, source on <a href='http://github.com/jackmoore/autosize'>Github</a> (<a href='http://github.com/jackmoore/autosize/blob/master/changelog.md'>changelog</a>) &nbsp;<iframe style='vertical-align: middle' src="http://ghbtns.com/github-btn.html?user=jackmoore&amp;repo=autosize&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="97" height="20"></iframe> <iframe style='vertical-align: middle' src="http://ghbtns.com/github-btn.html?user=jackmoore&amp;repo=autosize&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe></p>
<p><a class='download' href='https://github.com/jackmoore/autosize/archive/master.zip'>Download</a></p>
<h5>Install via NPM</h5>
<pre><code class="language-bash">npm install autosize
</code></pre>
<h4>Browser compatibility</h4>
<table>
<thead>
<tr>
<th>Chrome</th>
<th>Firefox</th>
<th>IE</th>
<th>Safari</th>
<th>iOS Safari</th>
<th>Android</th>
<th>Opera Mini</th>
</tr>
</thead>
<tbody>
<tr>
<td>yes</td>
<td>yes</td>
<td>9</td>
<td>yes</td>
<td>yes</td>
<td>4</td>
<td>?</td>
</tr>
</tbody>
</table>
<h3>Usage</h3>
<p>The autosize function accepts a single textarea element, or an array or array-like object (such as a NodeList or jQuery collection) of textarea elements.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// from a NodeList</span>
autosize(<span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'textarea'</span>));

<span class="hljs-comment">// from a single Node</span>
autosize(<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>));

<span class="hljs-comment">// from a jQuery collection</span>
autosize($(<span class="hljs-string">'textarea'</span>));
</code></pre>
<h3>Methods</h3>
<table>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td>autosize.update(elements)</td>
<td>
<p>Triggers the height adjustment for an assigned textarea element.  Autosize will automatically adjust the textarea height on keyboard and window resize events.  There is no efficient way for Autosize to monitor for when another script has changed the textarea value or for changes in layout that impact the textarea element.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// Init</span>
<span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);
ta.style.display = <span class="hljs-string">'none'</span>;
autosize(ta);

<span class="hljs-comment">// Change layout</span>
ta.style.display = <span class="hljs-string">'block'</span>;
autosize.update(ta);

<span class="hljs-comment">// Change value</span>
ta.value = <span class="hljs-string">"Some new value"</span>;
autosize.update(ta);
</code></pre>
</td>
</tr>
<tr>
<td>autosize.destroy(elements)</td>
<td>
<p>Removes Autosize and reverts any changes it made to the textarea element.</p>
<pre><code class="language-javascript">autosize.destroy(<span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'textarea'</span>));
</code></pre>
</td>
</tr>
</table>
<h3>Life-cycle Events</h3>
<table>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
<tr>
<td>autosize:resized</td>
<td>
<p>This event is fired every time autosize adjusts the textarea height.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);

ta.addEventListener(<span class="hljs-string">'autosize:resized'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'textarea height updated'</span>);
});
</code></pre>
<p>If you are using jQuery, you can use the on/off methods to listen to this event:</p>
<pre><code class="language-javascript">$(<span class="hljs-string">'textarea'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  autosize(<span class="hljs-keyword">this</span>);
}).on(<span class="hljs-string">'autosize:resized'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'textarea height updated'</span>);
});
</code></pre>
</td>
</tr>
<tr>
<td>autosize:update</td>
<td>
<p>Dispatch this event on a textarea element as an alternative to using the <code>autosize.update</code> method. Note that Firefox does not dispatch events on disabled elements.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);

autosize(ta);

ta.value = <span class="hljs-string">"Some new value"</span>;

<span class="hljs-comment">// Dispatch a 'autosize:update' event to trigger a resize:</span>
<span class="hljs-keyword">var</span> evt = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'Event'</span>);
evt.initEvent(<span class="hljs-string">'autosize:update'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
ta.dispatchEvent(evt);
</code></pre>
</td>
</tr>
<tr>
<td>autosize:destroy</td>
<td>
<p>Dispatch this event on a textarea element as an alternative to using the <code>autosize.destroy</code> method. Note that Firefox does not dispatch events on disabled elements.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);

<span class="hljs-comment">// assign autosize to ta</span>
autosize(ta);

<span class="hljs-comment">// remove autosize from ta</span>
<span class="hljs-keyword">var</span> evt = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'Event'</span>);
evt.initEvent(<span class="hljs-string">'autosize:destroy'</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
ta.dispatchEvent(evt);
</code></pre>
</td>
</tr>
</table>
<h2>Trouble shooting / FAQ</h2>
<ul>
<li><a href="#faq-min-max">Setting a min-height or max-height</a></li>
<li><a href="#faq-slow">Fixing slow or sluggish performance</a></li>
<li><a href="#faq-hidden">Initial height is incorrect</a></li>
</ul>
<p><h4 id='faq-min-max'>Setting a min-height or max-height</h4></p>
<p>Use CSS to specify a min-height and max-height for the textarea element.  Once the height exceeds the max-height, Autosize will re-enable the vertical scrollbar.</p>
<p>The rows attribute can also be used to specify a minimum height.  The rows attribute has a default value of <code>2</code>, so to make the textarea smaller than that you'll need to set the value to <code>1</code>.  Example: <code>&lt;textarea rows='1'&gt;&lt;/textarea&gt;</code></p>
<p><h4 id='faq-slow'>Fixing slow or sluggish performance</h4></p>
<p>In Webkit, the default focus style for input and textarea elements includes <code>outline-style: auto</code>, which has a blurred drop-shadow like appearance.  Completely independent of Autosize, Safari is terrible at animating anything with this blur on it.  My recommendation would be to use a non-blurred outline-style, and to remove any blurred box-shadow or other taxing CSS effect.  For example:</p>
<pre><code class="language-css"><span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span>, <span class="hljs-selector-tag">textarea</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">outline-style</span>: solid;
  <span class="hljs-attribute">outline-width</span>: <span class="hljs-number">2px</span>;
}
</code></pre>
<p><h4 id='faq-hidden'>Initial height is incorrect</h4></p>
<p>Autosize needs to be able to calculate the width of the textarea element when it is assigned.  JavaScript cannot accurately calculate the width of an element that has been detached from the DOM or had its display set to none.  If you want to assign Autosize to a hidden textarea element that you plan to reveal later, be sure to either specify the pixel width of the element in your CSS, or use the autosize.update method after you reveal the textarea element.</p>
<p><strong>Possible ways to resolve:</strong></p>
<ul>
<li>
<p>Specify an exact width for the textarea element in your stylesheet.</p>
</li>
<li>
<p>Delay assigning Autosize until the textarea has been revealed.  Alternatively, wait until the user focuses the textarea element:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);
ta.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  autosize(ta);
});
</code></pre>
</li>
<li>
<p>Use the autosize.update method (or trigger the <code>autosize:update</code> event) after the element has been revealed.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> ta = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'textarea'</span>);
ta.style.display = <span class="hljs-string">'none'</span>;
autosize(ta);
ta.style.display = <span class="hljs-string">''</span>;

<span class="hljs-comment">// Call the update method to recalculate the size:</span>
autosize.update(ta);
</code></pre>
</li>
</ul>
</div><hr/><div class='Bio'><h2>Hey,</h2><p>Follow me on <a href='http://twitter.com/jacklmoore' rel='me'>Twitter</a> and <a href='http://github.com/jackmoore' rel='me'>Github</a>, that's where I'm most active these days. I welcome email (<span class='Bio_email'></span>), but I'm afraid I no longer have time to answer personal requests for help regarding my plugins or posts.  Thanks!</p><iframe src='http://ghbtns.com/github-btn.html?user=jackmoore&type=follow' allowTransparency='true' frameBorder='0' scrolling='0' width='170' height='20'></iframe><p><a href='https://twitter.com/jacklmoore' data-show-count='false' class='twitter-follow-button'>Follow @jacklmoore</a></p><div><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script></div></div></div></main><div class='Main_aside'><aside class='SideBar'><h3>Scripts</h3><ul><li><a href='/colorbox'>Colorbox</a> » jQuery lightbox. Need the <a href='/colorbox/faq/'>FAQ</a>?</li><li><a href='/autosize'>Autosize</a> » Automatically resize textarea height</li><li><a href='/zoom'>Zoom</a> » jQuery plugin to enlarge images</li><li><a href='/wheelzoom'>Wheelzoom</a> » Enlarge images using scroll</li></ul><div><h3>Recent Posts</h3><ul><li key='0'><a href='/notes/rounding-in-javascript/'>Rounding Decimals in JavaScript</a></li><li key='1'><a href='/notes/mouse-position/'>Cross-browser mouse positioning</a></li><li key='2'><a href='/notes/css3-ribbon-menu/'>CSS Ribbon Menu</a></li><li><a href='/notes/'>(view older…)</a></li></ul></div><h3>Tags</h3><ul class='Tags'><li><a href='/notes/#tag-all' data-tag='all'>All</a></li><li key='css'><a href='/notes/#tag-css' data-tag='css'>CSS <span>(4)</span></a></li><li key='colorbox'><a href='/notes/#tag-colorbox' data-tag='colorbox'>Colorbox <span>(1)</span></a></li><li key='html5'><a href='/notes/#tag-html5' data-tag='html5'>HTML5 <span>(2)</span></a></li><li key='illustration'><a href='/notes/#tag-illustration' data-tag='illustration'>Illustration <span>(1)</span></a></li><li key='internet-explorer'><a href='/notes/#tag-internet-explorer' data-tag='internet-explorer'>Internet Explorer <span>(3)</span></a></li><li key='javascript'><a href='/notes/#tag-javascript' data-tag='javascript'>JavaScript <span>(8)</span></a></li><li key='jquery'><a href='/notes/#tag-jquery' data-tag='jquery'>jQuery <span>(7)</span></a></li></ul></aside></div></div></div>
		<script src="/js/main.js"></script>
	</body>
</html>